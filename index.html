<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta description="短縮URL URL Shorter">
  <title>URL Shortner</title>
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <div class="taskbar">
      <div onclick="window.location.href='https://l4qzix.f5.si/';"class="start-button">
        ︎ ︎︎ ︎︎ ︎︎ ︎︎ ︎︎ ︎︎ ︎︎ ︎
      </div>
      <div class="taskbar-items">
          <a href="https://discord.com/users/540151088293085195"style="text-decoration:none;" class="discord">Discord</a> ︎ ︎︎
          <a href="https://t.me/l4qzix"style="text-decoration:none;"class="telegram">Telegram</a> ︎ ︎︎
          <a href="https://x.com/l4qzix"style="text-decoration:none;"class="twitter">Twitter</a>
      </div>
      <div id="clock" class="clock"></div>
  </div>
  <div class="window">
      <div class="title-bar">
          <span>URL shortener</span>
          <div>
              <button class="close">×</button>
              <button class="minimize">─</button>
              <button class="maximize">☐</button>
          </div>
      </div>
      <div class="menu-bar">
          <a href="https://l4qzix.f5.si/about.html" class="aboutme"style="text-decoration:none;">About ︎︎ ︎︎ ︎︎ ︎︎ ︎︎</a>
          <span>Image</span>
          <span>View</span>
          <span>Help</span>
      </div>
      <div class="content">
          <div class="section">
              <h1>短縮URLサービス</h1>
              <p>①URL入力②生成されたURLにアクセス③Issue発行④Github Actionsから短縮URLが返ってきます</p><br>
              <p>短縮したいURLを入力してください：</p>
          </div>
          <div class="section">
              <div class="alert">短縮元URL:</div>
              <input type="text" id="urlInput" size="40"  placeholder="例：https://example.com/your-url">
              <button onclick="generate()">URLを生成してコピー</button>
              <br/>
              <div id="output" style="display: none;">
                <p><strong>生成されたURL:</strong></p>
                <input type="text" id="resultUrl" size="40" readonly>
                <div class="link-box">
                  <a id="openLink" href="#" target="_blank">▶ 新しいタブで開く</a>
                </div>
              </div>
          </div>
      </div>
  <script>
    function generate() {
      const input = document.getElementById("urlInput").value.trim();
      if (!input) {
        alert("URLを入力してください！");
        return;
      }

      const encoded = encodeURIComponent(input);
      const githubUrl = `https://github.com/l4qzix/make-url-short-database/issues/new?title=${encoded}`;

      // 表示とコピー
      document.getElementById("resultUrl").value = githubUrl;
      document.getElementById("output").style.display = "block";
      document.getElementById("openLink").href = githubUrl;

      const resultInput = document.getElementById("resultUrl");
      resultInput.select();
      document.execCommand("copy");
      alert("生成されたURLをクリップボードにコピーしました！");
    }
  </script>
</body>
</html>
